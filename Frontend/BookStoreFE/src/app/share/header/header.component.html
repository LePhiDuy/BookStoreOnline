<header class="header-area bg-orange">
  <div class="header-large-device">
    <div class="header-top header-top-ptb-7 border-bottom-9">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-xl-2 col-lg-2">
            <div class="logo">
              <a routerLink="/home"><img src="../assets/images/logo/logo_canva.png" alt="logo"></a>
            </div>
          </div>
          <div class="col-xl-7 col-lg-7">
            <div class="categori-search-wrap categori-search-wrap-modify-2">
              <div class="search-wrap-3">
                <form [formGroup]="formSearch" (ngSubmit)="onSearch()">
                  <input placeholder="Tìm kiếm sách..." type="text" formControlName="searchValue">
                  <button class="orange" type="submit"><i class="lnr lnr-magnifier"></i></button>
                </form>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-lg-3">
            <div class="header-action header-action-flex">
              <div class="same-style-2 same-style-2-white same-style-2-hover-black same-style-2-font-inc">
                <a routerLink="/authentication" [hidden]="isLogin"><span class="account-no-login">Tài khoản</span> <i class="icon-user"></i></a>
                <div class="dropdown" [hidden]="!isLogin">
                  <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" style="font-size: 18px !important;"><i class="fa-solid fa-circle-user"></i> {{username}}</a>
                  <ul class="dropdown-menu ml-3">
                    <li>
                      <a class="dropdown-item text-danger" data-bs-toggle="modal" data-bs-target="#logOutModal" style="font-size: 16px !important;">
                        <i class="fa-solid fa-right-to-bracket icon-header red-color"></i>
                        Đăng xuất
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="same-style-2 same-style-2-white same-style-2-hover-black same-style-2-font-inc header-cart">
                <a routerLink="/cart">
                  <i class="icon-basket-loaded"></i><span class="pro-count black" [hidden]="!isLogin ||  numberCartItem === 0">{{numberCartItem}}</span>
                  <span class="cart-amount white" [hidden]="!isLogin || totalPrice === 0">{{totalPrice | currency : "VNĐ" : "" : '1.0-0'}}đ</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="header-bottom">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-12">
            <div class="main-menu main-menu-white main-menu-font-size-14 main-menu-padding-3 main-menu-lh-5 main-menu-hover-black">
              <nav>
                <ul style="display: flex; justify-content: center; align-items: center" >
                  <li><a href="index.html" class="list-nav" class="list-nav">Danh mục sách <i class="icon-arrow-down"></i></a>
                    <ul class="sub-menu-style">
                      <li *ngFor="let category of categories">
                        <a class="list-nav" href="/category/{{category.id}}"> {{category.name}} </a>
                      </li>
                    </ul>
                  </li>
                  <li><a href="shop.html" class="list-nav">Sách bán chạy </a>
                  </li>
                  <li><a href="#" class="list-nav">Sách mới nhất </a>
                  </li>
                  <li><a href="blog.html" class="list-nav">Chương trình khuyến mãi </a>
                  </li>
                  <li><a href="contact.html" class="list-nav">Liên hệ </a></li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="header-small-device small-device-ptb-1">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-5">
          <div class="mobile-logo">
            <a href="index.html">
              <img alt="" src="../assets/images/logo/logo-3.png">
            </a>
          </div>
        </div>
        <div class="col-7">
          <div class="header-action header-action-flex">
            <div class="same-style-2 same-style-2-white same-style-2-hover-black same-style-2-font-inc">
              <a routerLink="/authentication" [hidden]="isLogin"><i class="icon-user"></i></a>
              <div class="dropdown" [hidden]="!isLogin">
                <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" style="font-size: 18px !important;"><i class="fa-solid fa-circle-user"></i> {{username}}</a>
                <ul class="dropdown-menu ml-3">
                  <li>
                    <a class="dropdown-item text-danger" data-bs-toggle="modal" data-bs-target="#logOutModal" >
                      <i class="fa-solid fa-right-to-bracket icon-header red-color"></i>
                      Đăng xuất
                    </a>
                  </li>
                </ul>
              </div>
            </div>
            <div class="same-style-2 same-style-2-white same-style-2-hover-black same-style-2-font-inc header-cart">
              <a class="cart-active" href="#">
                <i class="icon-basket-loaded"></i><span class="pro-count black">02</span>
              </a>
            </div>
            <div class="same-style-2 same-style-2-white same-style-2-hover-black main-menu-icon">
              <a class="mobile-header-button-active" href="#"><i class="icon-menu"></i> </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
<!-- Mobile menu start -->
<div class="mobile-header-active mobile-header-wrapper-style">
  <div class="clickalbe-sidebar-wrap">
    <a class="sidebar-close"><i class="icon_close"></i></a>
    <div class="mobile-header-content-area">
      <div class="mobile-search mobile-header-padding-border-1">
        <form [formGroup]="formSearch" (ngSubmit)="onSearch()">
          <input placeholder="Tìm kiếm sách..." type="text" formControlName="searchValue">
          <button class="orange" type="submit"><i class="lnr lnr-magnifier"></i></button>
        </form>
      </div>
      <div class="mobile-menu-wrap mobile-header-padding-border-2">
        <nav>
          <ul class="mobile-menu">
            <li class="menu-item-has-children">
              <a href="index.html">Danh mục sách</a>
              <ul>
                <li *ngFor="let category of categories">
                  <a class="list-nav" href="/category/{{category.id}}"> {{category.name}} </a>
                </li>
              </ul>
            </li>
            <li class="menu-item-has-children ">
              <a href="#">Sách bán chạy</a>
            </li>
            <li class="menu-item-has-children">
              <a href="#">Sách mới nhất</a>
            </li>
            <li class="menu-item-has-children ">
              <a href="#">Chương trình khuyến mãi</a>
            </li>
            <li><a href="#">Liên hệ</a></li>
          </ul>
        </nav>
        <!-- mobile menu end -->
      </div>
      <div class="mobile-social-icon">
        <a class="facebook" href="#"><i class="icon-social-facebook"></i></a>
        <a class="twitter" href="#"><i class="icon-social-twitter"></i></a>
        <a class="pinterest" href="#"><i class="icon-social-pinterest"></i></a>
        <a class="instagram" href="#"><i class="icon-social-instagram"></i></a>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="logOutModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title fs-5 text-danger" id="exampleModalLabel" style="font-size: 20px">Xác nhận đăng xuất</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" style="font-size: 18px">
        Bạn có chắc chắn muốn đăng xuất ?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Hủy</button>
        <button type="button" class="btn btn-success" (click)="logOut()" data-bs-dismiss="modal">Đồng ý</button>
      </div>
    </div>
  </div>
</div>
