<div class="breadcrumb-area bg-gray">
  <div class="container">
    <div class="breadcrumb-content text-center">
      <ul>
        <li>
          <a href="index.html">Trang chủ</a>
        </li>
        <li class="active">Giỏ hàng </li>
      </ul>
    </div>
  </div>
</div>
<div class="cart-main-area pt-10 pb-120" *ngIf="cartItems.length > 0">
  <div class="container">
    <h3 class="cart-page-title">Giỏ hàng của bạn</h3>
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12 col-12">
        <form action="#">
          <div class="table-content table-responsive cart-table-content">
            <table>
              <thead>
              <tr>
                <th>Ảnh sản phẩm</th>
                <th>Tên sản phẩm</th>
                <th>Đơn giá</th>
                <th>Số lượng</th>
                <th>Số tiền</th>
                <th>Thao tác</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let cartItem of cartItems; index as i">
                <td class="product-thumbnail">
                  <a [routerLink]="['/book', cartItem.book.id]"><img [src]="cartItem.book.imgUrl" width="100px" height="120px"></a>
                </td>
                <td class="product-name"><a [routerLink]="['/book', cartItem.book.id]">{{cartItem.book.name}}</a></td>
                <td class="product-price-cart"><span class="price">{{cartItem.book.price | currency : "VNĐ" : "" : '1.0-0'}} đ</span></td>
                <td class="product-quantity pro-details-quality">
                  <div class="cart-plus-minus">
                    <div class="dec qtybutton" (click)="subQuantity(cartItem?.id.cartId, cartItem?.id.bookId)">-</div>
                    <input class="cart-plus-minus-box" type="text" name="qtybutton" [value]="cartItem.amount"
                           [id]="'inputQuantity' + cartItem.id.cartId + cartItem.id.bookId" (change)="changeQuantity(cartItem?.id.cartId, cartItem?.id.bookId, i)">
                    <div class="inc qtybutton" (click)="addQuantity(cartItem?.id.cartId, cartItem?.id.bookId)">+</div>
                  </div>
                </td>
                <td class="product-subtotal price">{{cartItem.book.price * cartItem.amount | currency : 'VNĐ' : '' : '1.0-0'}} đ</td>
                <td class="product-remove">
                  <a (click)="deleteCartItem(cartItem?.id.cartId, cartItem?.id.bookId)"><i class="icon_close"></i></a>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="cart-shiping-update-wrapper">
                <div class="cart-shiping-update">
                  <a href="#">Tiếp tục mua sắm</a>
                </div>
              </div>
            </div>
          </div>
        </form>
        <div class="row">
          <div class="col-lg-12 col-md-12">
            <div class="grand-totall">
              <div class="title-wrap">
                <h4 class="cart-bottom-title section-bg-gary-cart">Giỏ hàng</h4>
              </div>
              <h5>Tổng tiền hàng<span class="price">{{totalPrice | currency : 'VNĐ' : '' : '1.0-0'}} đ</span></h5>
              <a href="#">Thanh toán</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="cart-main-area pt-10 pb-120" *ngIf="cartItems.length <= 0">
  <h3 class="text-danger notify" >Không có sản phẩm trong giỏ hàng</h3>
</div>
